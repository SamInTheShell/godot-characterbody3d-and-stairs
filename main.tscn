[gd_scene load_steps=18 format=3 uid="uid://brk60t1cbaua6"]

[ext_resource type="Script" path="res://character_body_3d.gd" id="1_8t6kd"]

[sub_resource type="Environment" id="Environment_b0j2f"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_xef4p"]

[sub_resource type="CapsuleMesh" id="CapsuleMesh_fj5rw"]

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_txcuh"]
albedo_color = Color(0.341176, 1, 1, 1)

[sub_resource type="CylinderShape3D" id="CylinderShape3D_d1h25"]
height = 0.5
radius = 0.6

[sub_resource type="BoxMesh" id="BoxMesh_8u5jk"]
size = Vector3(12, 0.2, 12)

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_akcni"]
albedo_color = Color(0.180005, 0.180005, 0.180005, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_5lmwb"]
data = PackedVector3Array(-6, 0.1, 6, 6, 0.1, 6, -6, -0.1, 6, 6, 0.1, 6, 6, -0.1, 6, -6, -0.1, 6, 6, 0.1, -6, -6, 0.1, -6, 6, -0.1, -6, -6, 0.1, -6, -6, -0.1, -6, 6, -0.1, -6, 6, 0.1, 6, 6, 0.1, -6, 6, -0.1, 6, 6, 0.1, -6, 6, -0.1, -6, 6, -0.1, 6, -6, 0.1, -6, -6, 0.1, 6, -6, -0.1, -6, -6, 0.1, 6, -6, -0.1, 6, -6, -0.1, -6, 6, 0.1, 6, -6, 0.1, 6, 6, 0.1, -6, -6, 0.1, 6, -6, 0.1, -6, 6, 0.1, -6, -6, -0.1, 6, 6, -0.1, 6, -6, -0.1, -6, 6, -0.1, 6, 6, -0.1, -6, -6, -0.1, -6)

[sub_resource type="BoxMesh" id="BoxMesh_mvt2n"]
size = Vector3(2, 0.5, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_nuthf"]
data = PackedVector3Array(-1, 0.25, 0.5, 1, 0.25, 0.5, -1, -0.25, 0.5, 1, 0.25, 0.5, 1, -0.25, 0.5, -1, -0.25, 0.5, 1, 0.25, -0.5, -1, 0.25, -0.5, 1, -0.25, -0.5, -1, 0.25, -0.5, -1, -0.25, -0.5, 1, -0.25, -0.5, 1, 0.25, 0.5, 1, 0.25, -0.5, 1, -0.25, 0.5, 1, 0.25, -0.5, 1, -0.25, -0.5, 1, -0.25, 0.5, -1, 0.25, -0.5, -1, 0.25, 0.5, -1, -0.25, -0.5, -1, 0.25, 0.5, -1, -0.25, 0.5, -1, -0.25, -0.5, 1, 0.25, 0.5, -1, 0.25, 0.5, 1, 0.25, -0.5, -1, 0.25, 0.5, -1, 0.25, -0.5, 1, 0.25, -0.5, -1, -0.25, 0.5, 1, -0.25, 0.5, -1, -0.25, -0.5, 1, -0.25, 0.5, 1, -0.25, -0.5, -1, -0.25, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_jgp63"]
size = Vector3(4, 5, 1)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_cs04j"]
data = PackedVector3Array(-2, 2.5, 0.5, 2, 2.5, 0.5, -2, -2.5, 0.5, 2, 2.5, 0.5, 2, -2.5, 0.5, -2, -2.5, 0.5, 2, 2.5, -0.5, -2, 2.5, -0.5, 2, -2.5, -0.5, -2, 2.5, -0.5, -2, -2.5, -0.5, 2, -2.5, -0.5, 2, 2.5, 0.5, 2, 2.5, -0.5, 2, -2.5, 0.5, 2, 2.5, -0.5, 2, -2.5, -0.5, 2, -2.5, 0.5, -2, 2.5, -0.5, -2, 2.5, 0.5, -2, -2.5, -0.5, -2, 2.5, 0.5, -2, -2.5, 0.5, -2, -2.5, -0.5, 2, 2.5, 0.5, -2, 2.5, 0.5, 2, 2.5, -0.5, -2, 2.5, 0.5, -2, 2.5, -0.5, 2, 2.5, -0.5, -2, -2.5, 0.5, 2, -2.5, 0.5, -2, -2.5, -0.5, 2, -2.5, 0.5, 2, -2.5, -0.5, -2, -2.5, -0.5)

[sub_resource type="BoxMesh" id="BoxMesh_5jn7x"]
size = Vector3(2, 1, 2)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_8fga2"]
data = PackedVector3Array(-1, 0.5, 1, 1, 0.5, 1, -1, -0.5, 1, 1, 0.5, 1, 1, -0.5, 1, -1, -0.5, 1, 1, 0.5, -1, -1, 0.5, -1, 1, -0.5, -1, -1, 0.5, -1, -1, -0.5, -1, 1, -0.5, -1, 1, 0.5, 1, 1, 0.5, -1, 1, -0.5, 1, 1, 0.5, -1, 1, -0.5, -1, 1, -0.5, 1, -1, 0.5, -1, -1, 0.5, 1, -1, -0.5, -1, -1, 0.5, 1, -1, -0.5, 1, -1, -0.5, -1, 1, 0.5, 1, -1, 0.5, 1, 1, 0.5, -1, -1, 0.5, 1, -1, 0.5, -1, 1, 0.5, -1, -1, -0.5, 1, 1, -0.5, 1, -1, -0.5, -1, 1, -0.5, 1, 1, -0.5, -1, -1, -0.5, -1)

[sub_resource type="BoxMesh" id="BoxMesh_y6kj5"]
size = Vector3(6, 0.5, 2)

[sub_resource type="ConcavePolygonShape3D" id="ConcavePolygonShape3D_2rfaf"]
data = PackedVector3Array(-3, 0.25, 1, 3, 0.25, 1, -3, -0.25, 1, 3, 0.25, 1, 3, -0.25, 1, -3, -0.25, 1, 3, 0.25, -1, -3, 0.25, -1, 3, -0.25, -1, -3, 0.25, -1, -3, -0.25, -1, 3, -0.25, -1, 3, 0.25, 1, 3, 0.25, -1, 3, -0.25, 1, 3, 0.25, -1, 3, -0.25, -1, 3, -0.25, 1, -3, 0.25, -1, -3, 0.25, 1, -3, -0.25, -1, -3, 0.25, 1, -3, -0.25, 1, -3, -0.25, -1, 3, 0.25, 1, -3, 0.25, 1, 3, 0.25, -1, -3, 0.25, 1, -3, 0.25, -1, 3, 0.25, -1, -3, -0.25, 1, 3, -0.25, 1, -3, -0.25, -1, 3, -0.25, 1, 3, -0.25, -1, -3, -0.25, -1)

[node name="Node3D" type="Node3D"]

[node name="Camera3D" type="Camera3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -0.0999999, 2.28183, 8.96525)

[node name="WorldEnvironment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_b0j2f")

[node name="DirectionalLight3D" type="DirectionalLight3D" parent="WorldEnvironment"]
transform = Transform3D(1, 0, 0, 0, 0.707107, 0.707107, 0, -0.707107, 0.707107, 0, 3.2, 0)

[node name="CharacterBody3D" type="CharacterBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 1.7, 0.0980793, 0)
script = ExtResource("1_8t6kd")

[node name="CollisionShape3D" type="CollisionShape3D" parent="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CapsuleShape3D_xef4p")

[node name="MeshInstance3D" type="MeshInstance3D" parent="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
mesh = SubResource("CapsuleMesh_fj5rw")
surface_material_override/0 = SubResource("StandardMaterial3D_txcuh")

[node name="StairChecker" type="ShapeCast3D" parent="CharacterBody3D"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1, 0)
shape = SubResource("CylinderShape3D_d1h25")
target_position = Vector3(0, -0.6, 0)

[node name="FloorChecker" type="RayCast3D" parent="CharacterBody3D"]
target_position = Vector3(0, -0.5, 0)

[node name="Floor" type="StaticBody3D" parent="."]

[node name="MeshInstance3D" type="MeshInstance3D" parent="Floor"]
mesh = SubResource("BoxMesh_8u5jk")
surface_material_override/0 = SubResource("StandardMaterial3D_akcni")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Floor"]
shape = SubResource("ConcavePolygonShape3D_5lmwb")

[node name="Stairs" type="Node3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -3.9)

[node name="StairStep1" type="StaticBody3D" parent="Stairs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Stairs/StairStep1"]
mesh = SubResource("BoxMesh_mvt2n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stairs/StairStep1"]
shape = SubResource("ConcavePolygonShape3D_nuthf")

[node name="StairStep2" type="StaticBody3D" parent="Stairs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, -1)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Stairs/StairStep2"]
mesh = SubResource("BoxMesh_mvt2n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stairs/StairStep2"]
shape = SubResource("ConcavePolygonShape3D_nuthf")

[node name="StairStep3" type="StaticBody3D" parent="Stairs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, -2)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Stairs/StairStep3"]
mesh = SubResource("BoxMesh_mvt2n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stairs/StairStep3"]
shape = SubResource("ConcavePolygonShape3D_nuthf")

[node name="StairStep4" type="StaticBody3D" parent="Stairs"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, -3)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Stairs/StairStep4"]
mesh = SubResource("BoxMesh_mvt2n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stairs/StairStep4"]
shape = SubResource("ConcavePolygonShape3D_nuthf")

[node name="Stairs2" type="Node3D" parent="."]
transform = Transform3D(2.98023e-08, 0, -1, 0, 1, 0, 1, 0, 2.98023e-08, 3, 0, -1)

[node name="StairStep1" type="StaticBody3D" parent="Stairs2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.3, 0)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Stairs2/StairStep1"]
mesh = SubResource("BoxMesh_mvt2n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stairs2/StairStep1"]
shape = SubResource("ConcavePolygonShape3D_nuthf")

[node name="StairStep2" type="StaticBody3D" parent="Stairs2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.8, -1)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Stairs2/StairStep2"]
mesh = SubResource("BoxMesh_mvt2n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stairs2/StairStep2"]
shape = SubResource("ConcavePolygonShape3D_nuthf")

[node name="StairStep3" type="StaticBody3D" parent="Stairs2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.3, -2)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Stairs2/StairStep3"]
mesh = SubResource("BoxMesh_mvt2n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stairs2/StairStep3"]
shape = SubResource("ConcavePolygonShape3D_nuthf")

[node name="StairStep4" type="StaticBody3D" parent="Stairs2"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 1.8, -3)

[node name="MeshInstance3D" type="MeshInstance3D" parent="Stairs2/StairStep4"]
mesh = SubResource("BoxMesh_mvt2n")

[node name="CollisionShape3D" type="CollisionShape3D" parent="Stairs2/StairStep4"]
shape = SubResource("ConcavePolygonShape3D_nuthf")

[node name="StaticBody3D" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -4.4, 2.6, -3.8)

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D"]
mesh = SubResource("BoxMesh_jgp63")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D"]
shape = SubResource("ConcavePolygonShape3D_cs04j")

[node name="StaticBody3D2" type="StaticBody3D" parent="."]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -2.9, 0, -0.6)

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D2"]
mesh = SubResource("BoxMesh_5jn7x")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D2"]
shape = SubResource("ConcavePolygonShape3D_8fga2")

[node name="StaticBody3D3" type="StaticBody3D" parent="."]
transform = Transform3D(0.965926, 0.258819, 0, -0.258819, 0.965926, 0, 0, 0, 1, -3.5, 0.5, 1.8)

[node name="MeshInstance3D" type="MeshInstance3D" parent="StaticBody3D3"]
mesh = SubResource("BoxMesh_y6kj5")

[node name="CollisionShape3D" type="CollisionShape3D" parent="StaticBody3D3"]
shape = SubResource("ConcavePolygonShape3D_2rfaf")
